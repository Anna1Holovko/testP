<apex:page standardController="Invoice__c" extensions="SOInvoicePaymentsController" sidebar="false" showHeader="false">
    <html>
        <head>
            <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"/>
            <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
            <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
            <script  type="text/javascript">
            /*    $(document).ready(function() 
                              {
                                  var INId = document.referrer.split('com/')[1];
                                  paraFunction(INId);
                                  // alert(INId);
                              });*/
            </script>
            <style>
                body{font-size:13px;}
                h5{line-height: 1.5;}
                .bPageBlock {border-top: 0px !important}
                body .bPageBlock,body .secondaryPalette.bPageBlock{border-bottom: 0px !important; border-left:0px !important;border-right:0px !important;}
                .apexp .bPageBlock.apexDefaultPageBlock .pbBody{margin: 0px 12px 0px !important;}
                body .bPageBlock{ margin-bottom: 0px !important;}
            </style>
        </head>
        <body> 
            <apex:form >
                 <apex:pageMessages id="messageId"></apex:pageMessages>
                <apex:actionFunction name="paraFunction" action="{!displayPayments}" rerender="paylist,test2,test1,messageId">    
                    <apex:param id="aname" assignTo="{!invoiceid}" name="invoiceid" value="" />
                </apex:actionFunction>
            </apex:form> 
            <div class="container-fluid">
                <div class="row" id="thumRow">
                    <apex:pageBlock id="paylist">
                        <apex:repeat value="{!paymentList}" var="pay" >
                            <div class="col-sm-4">
                                <div class="thumbnail" style="width:100%;float:left;background: #F7F7F7;box-shadow: 3px 3px 5px #B5B5B5;">
                                    <apex:outputPanel rendered="{!IF(pay.Payment_Type__c =='PayPal' || pay.Payment_Type__c == 'PayPal Express Checkout',true,false)}" style="float:left;width:100%">
                                        <div style="width:100%;float:left;">
                                            <div style="width: 40%;float:left;padding: 20px 10px;">
                                                <apex:image value="{!$Resource.paypal}" width="80px"/>
                                            </div>
                                            <div style="width: 60%;float:left;padding: 25px 15px;">
                                                <!-- <a style="color: #015ba7;" href="/{!pay.Payment_Method__c}" target="_blank">{!pay.Name}</a>  <br/> -->
                                                <a style="color: #015ba7;" href="/{!pay.Payment_Method__c}" target="_blank"> <apex:outputText value="{!pay.Payment_Type__c}"/></a><br/>
                                                <b class="card-headings">Amount: </b>$<apex:outputText value="{!pay.Amount__c}" /><br/>
                                                <b class="card-headings"><apex:outputText value="{!pay.AVS_Response__c}" /></b>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                    
                                    <apex:outputPanel rendered="{!IF(pay.Payment_Type__c =='Credit Card (Authorize.net)' || pay.Payment_Type__c =='Credit Card',true,false)}">
                                        <div style="width:100%;float:left;">
                                            <div style="width: 32%;float:left;padding: 32px 10px;">
                                                <apex:image value="{!if(pay.Card_Type__c=='MasterCard','/resource/mastercard',if(pay.Card_Type__c=='American Express','/resource/americanexpress',if(pay.Card_Type__c=='Visa','/resource/visa',if(pay.Card_Type__c=='Discover','/resource/discover','no-image'))))}" width="80px" />
                                            </div>
                                            <div style="width: 68%;float:left;padding: 12px 0px 12px 6px;">
                                                <a style="color: #015ba7;font-weight: bold;" href="/{!pay.Payment_Method__c}" target="_blank"><apex:outputText value="{!pay.Payment_Type__c}"/></a><br/>
                                                <b class="card-headings"><apex:outputText value="{!pay.Card_Type__c}"/></b><br/>
                                                <b class="card-headings">Card #: </b> <apex:outputText value="{!pay.Card_Number__c}"/><br/>
                                                <b class="card-headings">Amount: </b>$<apex:outputText value="{!pay.Amount__c}" /><br/>
                                                <b class="card-headings">AVS Response: </b> <apex:outputText value="{!pay.AVS_Response__c}" />
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                    
                                    <apex:outputPanel rendered="{!IF(pay.Payment_Type__c =='Manual Payment',true,false)}">
                                        <div style="width:100%;float:left;">
                                            <div style="float:left;padding: 12px 10px;">
                                                <apex:image value="{!$Resource.paymentmethod}"/>
                                            </div> 
                                            <div style="width: 60%;float:left;padding: 25px 15px;">
                                                <!-- <a style="color: #015ba7;" href="/{!pay.Payment_Method__c}" target="_blank">{!pay.Name}</a>  <br/> -->
                                                <a style="color: #015ba7;" href="/{!pay.Payment_Method__c}" target="_blank"> <apex:outputText value="{!pay.Payment_Type__c}"/></a><br/>
                                                <b class="card-headings">Amount: </b>$<apex:outputText value="{!pay.Amount__c}" /><br/>
                                                <b class="card-headings"><apex:outputText value="{!pay.AVS_Response__c}" /></b>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                </div>
                            </div>
                        </apex:repeat>
                    </apex:pageBlock>
                </div>
            </div>
        </body>
    </html>
</apex:page>